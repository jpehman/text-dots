/*
 *@summary JavaScript loading dots utility for the browser
 *@license {@link https://github.com/jpehman/text-dots/blob/master/LICENSE}
 *@author Jonathan Ehman
 *@typedef object
 *@example
 * const textDots = require("text-dots");
 * 
 * const dots = textDots(5);
 * @param {number} numberOfDots - optional - three dots is the default, 0 is pointless and will result in 3 dots
 * 
 * dots.start(context, "Loading Text", interval);
 * @param {DOMElement} context - required on first run - Passing something other than an HTMLElement will throw a TypeError
 * @param {string} text - optional - dots will be displayed even without a proper string
 * @param {number} interval - optional - defaults to 500ms
 *
 * dots.stop();
 *
 */
var textDots=function(t){"use strict"
if(void 0!==t&&isNaN(t))throw new TypeError("The numberOfDots must be a number")
t=("string"==typeof t?parseInt(t,10):t)||3
var n=null,e=null,r=function(){clearInterval(n),n=null},o=function(t){e.innerHTML=t}
return{start:function(s,u,a){if("string"!=typeof u&&"number"!=typeof u&&(u=""),(null===a||isNaN(a))&&(a=500),s&&(e=s),!(e instanceof HTMLElement))throw new TypeError("The context passed in must be an HTMLElement")
r()
for(var i=u,l=0,f=t;f--;)i+="&nbsp;"
n=setInterval(function(){++l>t&&(l=0)
for(var n=i,e=l;e--;)n=n.replace("&nbsp;",".")
o(n)},a),o(i)},stop:r}}
module.exports=textDots
